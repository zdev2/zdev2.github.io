<h1>p-locate <a href="https://travis-ci.org/sindresorhus/p-locate"><img src="https://travis-ci.org/sindresorhus/p-locate.svg?branch=master" alt="Build Status"></a></h1><blockquote>
<p>Get the first fulfilled promise that satisfies the provided testing function</p>
</blockquote>
<p>Think of it like an async version of <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find"><code>Array#find</code></a>.</p>
<h2>Install</h2><pre><code>$ npm install p-locate
</code></pre>
<h2>Usage</h2><p>Here we find the first file that exists on disk, in array order.</p>
<pre><code class="language-js">const pathExists = require(&#39;path-exists&#39;);
const pLocate = require(&#39;p-locate&#39;);

const files = [
    &#39;unicorn.png&#39;,
    &#39;rainbow.png&#39;, // Only this one actually exists on disk
    &#39;pony.png&#39;
];

(async () =&gt; {
    const foundPath = await pLocate(files, file =&gt; pathExists(file));

    console.log(foundPath);
    //=&gt; &#39;rainbow&#39;
})();
</code></pre>
<p><em>The above is just an example. Use <a href="https://github.com/sindresorhus/locate-path"><code>locate-path</code></a> if you need this.</em></p>
<h2>API</h2><h3>pLocate(input, tester, [options])</h3><p>Returns a <code>Promise</code> that is fulfilled when <code>tester</code> resolves to <code>true</code> or the iterable is done, or rejects if any of the promises reject. The fulfilled value is the current iterable value or <code>undefined</code> if <code>tester</code> never resolved to <code>true</code>.</p>
<h4>input</h4><p>Type: <code>Iterable&lt;Promise | unknown&gt;</code></p>
<p>An iterable of promises/values to test.</p>
<h4>tester(element)</h4><p>Type: <code>Function</code></p>
<p>This function will receive resolved values from <code>input</code> and is expected to return a <code>Promise&lt;boolean&gt;</code> or <code>boolean</code>.</p>
<h4>options</h4><p>Type: <code>Object</code></p>
<h5>concurrency</h5><p>Type: <code>number</code><br>
Default: <code>Infinity</code><br>
Minimum: <code>1</code></p>
<p>Number of concurrently pending promises returned by <code>tester</code>.</p>
<h5>preserveOrder</h5><p>Type: <code>boolean</code><br>
Default: <code>true</code></p>
<p>Preserve <code>input</code> order when searching.</p>
<p>Disable this to improve performance if you don&#39;t care about the order.</p>
<h2>Related</h2><ul>
<li><a href="https://github.com/sindresorhus/p-map">p-map</a> - Map over promises concurrently</li>
<li><a href="https://github.com/sindresorhus/p-filter">p-filter</a> - Filter promises concurrently</li>
<li><a href="https://github.com/sindresorhus/p-any">p-any</a> - Wait for any promise to be fulfilled</li>
<li><a href="https://github.com/sindresorhus/promise-fun">More…</a></li>
</ul>
<h2>License</h2><p>MIT © <a href="https://sindresorhus.com">Sindre Sorhus</a></p>
