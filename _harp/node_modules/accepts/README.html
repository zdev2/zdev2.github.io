<h1>accepts</h1><p><a href="https://npmjs.org/package/accepts"><img src="https://badgen.net/npm/v/accepts" alt="NPM Version"></a>
<a href="https://npmjs.org/package/accepts"><img src="https://badgen.net/npm/dm/accepts" alt="NPM Downloads"></a>
<a href="https://nodejs.org/en/download"><img src="https://badgen.net/npm/node/accepts" alt="Node.js Version"></a>
<a href="https://github.com/jshttp/accepts/actions/workflows/ci.yml"><img src="https://badgen.net/github/checks/jshttp/accepts/master?label=ci" alt="Build Status"></a>
<a href="https://coveralls.io/r/jshttp/accepts?branch=master"><img src="https://badgen.net/coveralls/c/github/jshttp/accepts/master" alt="Test Coverage"></a></p>
<p>Higher level content negotiation based on <a href="https://www.npmjs.com/package/negotiator">negotiator</a>.
Extracted from <a href="https://www.npmjs.com/package/koa">koa</a> for general use.</p>
<p>In addition to negotiator, it allows:</p>
<ul>
<li>Allows types as an array or arguments list, ie <code>([&#39;text/html&#39;, &#39;application/json&#39;])</code>
as well as <code>(&#39;text/html&#39;, &#39;application/json&#39;)</code>.</li>
<li>Allows type shorthands such as <code>json</code>.</li>
<li>Returns <code>false</code> when no types match</li>
<li>Treats non-existent headers as <code>*</code></li>
</ul>
<h2>Installation</h2><p>This is a <a href="https://nodejs.org/en/">Node.js</a> module available through the
<a href="https://www.npmjs.com/">npm registry</a>. Installation is done using the
<a href="https://docs.npmjs.com/getting-started/installing-npm-packages-locally"><code>npm install</code> command</a>:</p>
<pre><code class="language-sh">$ npm install accepts
</code></pre>
<h2>API</h2><pre><code class="language-js">var accepts = require(&#39;accepts&#39;)
</code></pre>
<h3>accepts(req)</h3><p>Create a new <code>Accepts</code> object for the given <code>req</code>.</p>
<h4>.charset(charsets)</h4><p>Return the first accepted charset. If nothing in <code>charsets</code> is accepted,
then <code>false</code> is returned.</p>
<h4>.charsets()</h4><p>Return the charsets that the request accepts, in the order of the client&#39;s
preference (most preferred first).</p>
<h4>.encoding(encodings)</h4><p>Return the first accepted encoding. If nothing in <code>encodings</code> is accepted,
then <code>false</code> is returned.</p>
<h4>.encodings()</h4><p>Return the encodings that the request accepts, in the order of the client&#39;s
preference (most preferred first).</p>
<h4>.language(languages)</h4><p>Return the first accepted language. If nothing in <code>languages</code> is accepted,
then <code>false</code> is returned.</p>
<h4>.languages()</h4><p>Return the languages that the request accepts, in the order of the client&#39;s
preference (most preferred first).</p>
<h4>.type(types)</h4><p>Return the first accepted type (and it is returned as the same text as what
appears in the <code>types</code> array). If nothing in <code>types</code> is accepted, then <code>false</code>
is returned.</p>
<p>The <code>types</code> array can contain full MIME types or file extensions. Any value
that is not a full MIME types is passed to <code>require(&#39;mime-types&#39;).lookup</code>.</p>
<h4>.types()</h4><p>Return the types that the request accepts, in the order of the client&#39;s
preference (most preferred first).</p>
<h2>Examples</h2><h3>Simple type negotiation</h3><p>This simple example shows how to use <code>accepts</code> to return a different typed
respond body based on what the client wants to accept. The server lists it&#39;s
preferences in order and will get back the best match between the client and
server.</p>
<pre><code class="language-js">var accepts = require(&#39;accepts&#39;)
var http = require(&#39;http&#39;)

function app (req, res) {
  var accept = accepts(req)

  // the order of this list is significant; should be server preferred order
  switch (accept.type([&#39;json&#39;, &#39;html&#39;])) {
    case &#39;json&#39;:
      res.setHeader(&#39;Content-Type&#39;, &#39;application/json&#39;)
      res.write(&#39;{&quot;hello&quot;:&quot;world!&quot;}&#39;)
      break
    case &#39;html&#39;:
      res.setHeader(&#39;Content-Type&#39;, &#39;text/html&#39;)
      res.write(&#39;&lt;b&gt;hello, world!&lt;/b&gt;&#39;)
      break
    default:
      // the fallback is text/plain, so no need to specify it above
      res.setHeader(&#39;Content-Type&#39;, &#39;text/plain&#39;)
      res.write(&#39;hello, world!&#39;)
      break
  }

  res.end()
}

http.createServer(app).listen(3000)
</code></pre>
<p>You can test this out with the cURL program:</p>
<pre><code class="language-sh">curl -I -H&#39;Accept: text/html&#39; http://localhost:3000/
</code></pre>
<h2>License</h2><p><a href="LICENSE">MIT</a></p>
